#!/bin/bash
# build-all â€” Build all components (daemon + web client).
#
# Usage:
#   bin/build-all
#
# Prerequisites: node, npm
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
ROOT="$(dirname "$SCRIPT_DIR")"

if ! command -v node &>/dev/null; then
  echo "ERROR: Node.js is not installed. See https://nodejs.org/" >&2
  exit 1
fi

echo "=== Building Daemon ==="
cd "$ROOT/daemon" && npm run build

echo ""
echo "=== Building Web Client ==="
cd "$ROOT/web" && npm run build

echo ""
echo "=== All builds complete ==="
