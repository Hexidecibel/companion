#!/bin/bash
# logs â€” Follow daemon logs (platform-aware: systemd / launchd).
#
# Usage:
#   bin/logs            Follow logs
#   bin/logs -n 100     Show last 100 lines then follow
if systemctl --user is-active companion &>/dev/null; then
  journalctl --user -u companion -f "$@"
elif command -v systemctl &>/dev/null && systemctl is-active companion &>/dev/null; then
  sudo journalctl -u companion -f "$@"
elif [[ "$OSTYPE" == "darwin"* ]]; then
  tail -f ~/Library/Logs/companion.log
else
  echo "Daemon service not found. Check manually."
  exit 1
fi
